head	1.2;
access;
symbols;
locks; strict;
comment	@# @;


1.2
date	2010.12.06.16.25.59;	author lewis;	state Exp;
branches;
next	1.1;

1.1
date	2010.12.06.16.08.00;	author lewis;	state Exp;
branches;
next	;


desc
@@


1.2
log
@*** empty log message ***
@
text
@#================================================================
# Makefile to produce lrfsc library
#================================================================

CPU=L865

include /ps/dsc/src/co/Make.auto

COMPILE_TIME:=$(shell date +%s)

CFLAGS= -DCOMPILE_TIME=$(COMPILE_TIME) -g -Wall -I. -I../include -I../driver -fPIC

SRCS=liblrfsc.c liblrfsc.h

all: liblrfsc.$(CPU).so liblrfsc.$(CPU).a

liblrfsc.$(CPU).o: liblrfsc.c

liblrfsc.$(CPU).a: liblrfsc.$(CPU).o
	-$(RM) $@@
	$(AR) $(ARFLAGS) $@@ $^
	$(RANLIB) $@@

liblrfsc.$(CPU).so: liblrfsc.$(CPU).o
	-$(RM) $@@
	$(CC) $(CFLAGS) -o $@@ -shared $^

clean:
	rm -f liblrfsc.$(CPU).o
	rm -f liblrfsc.$(CPU).a
@


1.1
log
@Initial revision
@
text
@d13 1
a13 1
SRCS=lrfsc.c lrfsc.h
d15 1
a15 1
all: lrfsc.$(CPU).so lrfsc.$(CPU).a
d17 1
a17 1
lrfsc.$(CPU).o: lrfsc.c
d19 1
a19 1
lrfsc.$(CPU).a: lrfsc.$(CPU).o
d24 1
a24 1
lrfsc.$(CPU).so: lrfsc.$(CPU).o
d29 2
a30 2
	rm -f lrfsc.$(CPU).o
	rm -f lrfsc.$(CPU).a
@
